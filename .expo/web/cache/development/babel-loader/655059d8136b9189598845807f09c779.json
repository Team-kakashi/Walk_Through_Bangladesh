{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport moneyIcon from \"../../../../assets/icons/money.png\";\nimport timerIcon from \"../../../../assets/icons/timer.png\";\nimport { AddRouteScreen } from \"../components/addRoute.vehicleOwner.screen\";\nimport { CardDetails } from \"../../../components/roomCard.style\";\nimport { IconTextContainer, CardParent, Row, Subtitle, Title, ImagePreview, ImagePreviewContainer, SpacingSmall, QuaternaryButton, Icon, Button } from \"../../../components/common.style\";\nimport { IpRoute } from \"../../../components/environmentVeriables\";\nimport { user_id } from \"../../authentication/screens/logIn.screen\";\nimport { ContentContext } from \"./vehicleContext\";\nimport { Vehicle } from \"./vehicle\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar temp = 0;\nexport var VecicleCard = function VecicleCard(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState([{}]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      vehicle = _React$useState2[0],\n      setVehicle = _React$useState2[1];\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loadPage = _useState2[0],\n      setloadPage = _useState2[1];\n\n  var _useContext = useContext(ContentContext),\n      _useContext2 = _slicedToArray(_useContext, 2),\n      vid = _useContext2[0],\n      setVid = _useContext2[1];\n\n  temp = 0;\n  var list = vehicle.map(function (i) {\n    return _jsx(Vehicle, {\n      id: temp++,\n      v_name: i.v_name,\n      route: i.route,\n      rent: i.rent,\n      update: update\n    });\n  });\n\n  function update(id) {\n    console.log(\"card id \", id);\n    setVid(vehicle[id].v_id);\n    navigation.navigate(\"AddRouteScreen\", vid);\n  }\n\n  var submitData = function submitData() {\n    console.log('as', loadPage);\n    fetch(IpRoute + \"/getVehicle\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        userId: user_id\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      if (data == \"wrong credential\") {\n        Alert.alert(data);\n      } else {\n        console.log(\"vehivle data\", data);\n        setVehicle(data);\n        temp = 0;\n        console.log(\"abc\", vehicle);\n        console.log(\"price \", data[0].rent);\n        console.log(loadPage);\n\n        if (data[0].v_id == null) {\n          setloadPage(false);\n        }\n\n        ;\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    submitData();\n  }, []);\n  return _jsx(_Fragment, {\n    children: list\n  });\n};","map":{"version":3,"sources":["E:/Development/Walk_Through_Bangladesh/src/features/vehicleOwner/components/vehicleCard.component.js"],"names":["React","useState","useEffect","useContext","moneyIcon","timerIcon","AddRouteScreen","CardDetails","IconTextContainer","CardParent","Row","Subtitle","Title","ImagePreview","ImagePreviewContainer","SpacingSmall","QuaternaryButton","Icon","Button","IpRoute","user_id","ContentContext","Vehicle","temp","VecicleCard","navigation","vehicle","setVehicle","loadPage","setloadPage","vid","setVid","list","map","i","v_name","route","rent","update","id","console","log","v_id","navigate","submitData","fetch","method","headers","body","JSON","stringify","userId","then","res","json","data","Alert","alert","catch","err"],"mappings":"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","sourcesContent":["/** @format */\r\n\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport moneyIcon from \"../../../../assets/icons/money.png\";\r\nimport timerIcon from \"../../../../assets/icons/timer.png\";\r\nimport {AddRouteScreen} from \"../components/addRoute.vehicleOwner.screen\";\r\n\r\nimport { CardDetails } from \"../../../components/roomCard.style\";\r\nimport {\r\n  IconTextContainer,\r\n  CardParent,\r\n  Row,\r\n  Subtitle,\r\n  Title,\r\n  ImagePreview,\r\n  ImagePreviewContainer,\r\n  SpacingSmall,\r\n  QuaternaryButton,\r\n  Icon,\r\n  Button,\r\n} from \"../../../components/common.style\";\r\nimport { IpRoute } from \"../../../components/environmentVeriables\";\r\nimport { user_id } from \"../../authentication/screens/logIn.screen\";\r\nimport {ContentContext} from \"./vehicleContext\";\r\nimport {Vehicle} from \"./vehicle\";\r\n\r\n//var vehicleid;\r\nvar temp = 0 ;\r\nexport const VecicleCard = ({\r\n  navigation,\r\n}) => {\r\n  const[vehicle,setVehicle]= React.useState([{}]);\r\n  const[loadPage,setloadPage]= useState(true);\r\n  const [vid, setVid] =useContext(ContentContext);\r\n\r\n  \r\n  temp = 0;\r\n    const list = vehicle.map((i)=>(\r\n      \r\n        <Vehicle \r\n        id = {temp++} \r\n        v_name = {i.v_name}\r\n        route={i.route} \r\n        rent={i.rent}\r\n        update = {update}\r\n        />\r\n\r\n    ));\r\n\r\n    function update(id){\r\n      console.log(\"card id \",id);\r\n\r\n      setVid(vehicle[id].v_id);\r\n    navigation.navigate(\"AddRouteScreen\",vid);\r\n\r\n    }\r\n\r\n  const submitData = () => {\r\n    console.log('as',loadPage)\r\n   // setloadPage(true);\r\n    fetch(IpRoute+\"/getVehicle\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        userId: user_id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        //console.log(res.status())\r\n        if (data == \"wrong credential\") {\r\n          Alert.alert(data);\r\n        } else {\r\n          console.log(\"vehivle data\",data);\r\n          setVehicle(data);\r\n          temp = 0;\r\n          \r\n          console.log(\"abc\",vehicle);\r\n          \r\n          //console.log(vehicle.length);\r\n          console.log(\"price \",data[0].rent);\r\n          console.log(loadPage)\r\n          if(data[0].v_id==null){\r\n            //console.log(\"if e dhukse kn\")\r\n            setloadPage(false);\r\n          };\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        //Alert.alert(err)\r\n      });\r\n  };\r\n \r\n  useEffect(()=>{\r\n    submitData();\r\n   \r\n  },[])\r\n  return (\r\n    <>\r\n    {list}\r\n    </>\r\n//     <>\r\n//     {loadPage \r\n\r\n    \r\n//    ?<> \r\n   \r\n//     {vehicle.map(i =>(\r\n//     <CardParent elevation={5}>\r\n//       <Row>\r\n//         <CardDetails>\r\n//           <Title>Vehicle Name : {i.v_name}</Title>\r\n//           <SpacingSmall />\r\n//           <Subtitle>Route: {i.route}</Subtitle>\r\n//           <Subtitle>Price: {i.rent}</Subtitle>\r\n//           <SpacingSmall />\r\n         \r\n          \r\n//           <QuaternaryButton onPress={onPressAdd} {...vehicleid=i.v_id}>Add Route</QuaternaryButton>\r\n//         </CardDetails>\r\n//         <ImagePreviewContainer>\r\n//           <ImagePreview />\r\n//         </ImagePreviewContainer>\r\n//       </Row>\r\n//     </CardParent>\r\n//     ))}\r\n//     </>\r\n//     :<></>\r\n// }\r\n//     </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}