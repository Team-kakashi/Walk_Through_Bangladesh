{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React from \"react\";\nimport { IpRoute } from \"../../../components/environmentVeriables\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { PrimaryButton, Subtitle, SecondaryButton, ParentMargin, SpacingLarge, TextInputTheme, H1, SafeAreaViewContainer } from \"../../../components/common.style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var user_id;\nexport var LogInScreen = function LogInScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      onChangeEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      onChangePassword = _React$useState4[1];\n\n  var onPressLogin = function onPressLogin() {\n    console.log(\"login pressed\");\n    onChangeEmail(\"\");\n    onChangePassword(\"\");\n    submitData();\n  };\n\n  var submitData = function submitData() {\n    fetch(IpRoute + \"/login\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      if (data == \"wrong credential\") {\n        Alert.alert(data);\n      } else {\n        console.log(data);\n        user_id = data.id;\n\n        if (data.user_type == \"HotelManager\") {\n          navigation.navigate(\"HotelManagerLandingScreen\");\n        } else if (data.user_type == \"TourGuide\") {\n          navigation.navigate(\"TourGuideLandingScreen\");\n        } else if (data.user_type == \"VehicleOwner\") {\n          navigation.navigate(\"VehicleOwnerLandingScreen\");\n        } else if (data.user_type == \"Blogger\") {\n          navigation.navigate(\"TravelBloggerLandingScreen\");\n        } else if (data.user_type == \"Traveller\") {\n          navigation.navigate(\"TravellerTabNavigation\");\n        }\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return _jsx(SafeAreaViewContainer, {\n    children: _jsxs(ScrollView, {\n      children: [_jsx(H1, {\n        children: \"Walk Through Bangladesh\"\n      }), _jsx(SpacingLarge, {}), _jsx(TextInputTheme, {\n        label: \"E-mail\",\n        onChangeText: onChangeEmail,\n        value: email\n      }), _jsx(TextInputTheme, {\n        label: \"Password\",\n        onChangeText: onChangePassword,\n        value: password,\n        secureTextEntry: true\n      }), _jsx(SpacingLarge, {}), _jsxs(ParentMargin, {\n        children: [_jsx(Subtitle, {\n          children: \"Don't have any account?\"\n        }), _jsx(SecondaryButton, {\n          onPress: function onPress() {\n            return navigation.navigate(\"AccountSelectScreen\");\n          },\n          children: \"SignUp\"\n        })]\n      }), _jsx(PrimaryButton, {\n        icon: \"login\",\n        onPress: onPressLogin,\n        children: \"Login\"\n      }), _jsx(SpacingLarge, {})]\n    })\n  });\n};","map":{"version":3,"sources":["E:/Development/Walk_Through_Bangladesh/src/features/authentication/screens/logIn.screen.js"],"names":["React","IpRoute","PrimaryButton","Subtitle","SecondaryButton","ParentMargin","SpacingLarge","TextInputTheme","H1","SafeAreaViewContainer","user_id","LogInScreen","navigation","useState","email","onChangeEmail","password","onChangePassword","onPressLogin","console","log","submitData","fetch","method","headers","body","JSON","stringify","then","res","json","data","Alert","alert","id","user_type","navigate","catch","err"],"mappings":"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","sourcesContent":["/** @format */\r\nimport { ScrollView } from \"react-native\";\r\n\r\nimport React from \"react\";\r\nimport { IpRoute } from \"../../../components/environmentVeriables\";\r\nimport {\r\n  SafeAreaView,\r\n  StyleSheet,\r\n  TextInput,\r\n  Text,\r\n  Button,\r\n  View,\r\n  TouchableOpacity,\r\n  Alert,\r\n} from \"react-native\";\r\n\r\nimport {\r\n  PrimaryButton,\r\n  Subtitle,\r\n  SecondaryButton,\r\n  ParentMargin,\r\n  SpacingLarge,\r\n  TextInputTheme,\r\n  H1,\r\n  SafeAreaViewContainer,\r\n} from \"../../../components/common.style\";\r\n\r\n    \r\nexport var user_id;\r\n\r\nexport const LogInScreen = ({ navigation }) => {\r\n  const [email, onChangeEmail] = React.useState(null);\r\n  const [password, onChangePassword] = React.useState(null);\r\n\r\n  const onPressLogin = () => {\r\n    console.log(\"login pressed\");\r\n    onChangeEmail(\"\");\r\n    onChangePassword(\"\");\r\n\r\n    //navigation.navigate(\"Login\");\r\n    submitData();\r\n  };\r\n\r\n  const submitData = () => {\r\n    fetch(IpRoute + \"/login\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        //console.log(res.status())\r\n        if (data == \"wrong credential\") {\r\n          Alert.alert(data);\r\n        } else {\r\n          console.log(data);\r\n          user_id=data.id;\r\n          // console.log(JSON.stringify(data.json()));\r\n          if (data.user_type == \"HotelManager\") {\r\n            navigation.navigate(\r\n              \"HotelManagerLandingScreen\"\r\n            );\r\n          }  else if (data.user_type == \"TourGuide\") {\r\n          navigation.navigate(\"TourGuideLandingScreen\");\r\n        } else if (data.user_type == \"VehicleOwner\") {\r\n          navigation.navigate(\"VehicleOwnerLandingScreen\");\r\n        }\r\n        else if(data.user_type == \"Blogger\"){\r\n          navigation.navigate(\"TravelBloggerLandingScreen\")\r\n        } \r\n        else if(data.user_type == \"Traveller\"){\r\n          navigation.navigate(\"TravellerTabNavigation\")\r\n        } \r\n\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        //Alert.alert(err)\r\n      });\r\n  };\r\n\r\n  return (\r\n    <SafeAreaViewContainer>      \r\n      <ScrollView>\r\n\r\n      <H1>Walk Through Bangladesh</H1>\r\n\r\n      <SpacingLarge></SpacingLarge>\r\n\r\n      <TextInputTheme\r\n        label=\"E-mail\"\r\n        onChangeText={onChangeEmail}\r\n        value={email}\r\n      ></TextInputTheme>\r\n\r\n      <TextInputTheme\r\n        label=\"Password\"\r\n        onChangeText={onChangePassword}\r\n        value={password}\r\n        secureTextEntry={true}\r\n      ></TextInputTheme>\r\n\r\n      <SpacingLarge></SpacingLarge>\r\n\r\n      <ParentMargin>\r\n        <Subtitle>Don't have any account?</Subtitle>\r\n\r\n        <SecondaryButton\r\n          onPress={() =>\r\n            navigation.navigate(\"AccountSelectScreen\")\r\n          }\r\n        >\r\n          SignUp\r\n        </SecondaryButton>\r\n      </ParentMargin>\r\n\r\n      <PrimaryButton icon=\"login\" onPress={onPressLogin}>\r\n        Login\r\n      </PrimaryButton>\r\n      <SpacingLarge></SpacingLarge>\r\n\r\n      </ScrollView>\r\n\r\n    </SafeAreaViewContainer>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}